{"ast":null,"code":"import { call, put, takeEvery } from \"redux-saga/effects\"; // Login Redux States\n\nimport { LOGIN_USER, LOGOUT_USER, SOCIAL_LOGIN } from \"./actionTypes\";\nimport { apiError, loginSuccess, logoutUserSuccess } from \"./actions\";\n\nfunction* loginUser(_ref) {\n  let {\n    payload: {\n      user,\n      history\n    }\n  } = _ref;\n\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      try {\n        if (user.email == \"adminpoc@gmail.com\" && user.password == \"1234\") {\n          localStorage.setItem(\"authUser\", JSON.stringify(\"Wh3OyLBmjv7UcF93VSEU/cztR8aoeEE9bFrzeRkdEe+\")); //yield put(loginSuccess(response))\n\n          history.push(\"/dashboard\");\n        } else {\n          yield put(apiError(\"Username and password are invalid. Please enter correct username and password\"));\n        }\n      } catch (e) {\n        console.log(e.message);\n      } // const response = yield call(postFakeLogin, {\n      //   email: user.email,\n      //   password: user.password,\n      // });\n      // localStorage.setItem(\"authUser\", JSON.stringify(response));\n      // yield put(loginSuccess(response));\n\n    }\n\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\n\nfunction* logoutUser(_ref2) {\n  let {\n    payload: {\n      history\n    }\n  } = _ref2;\n\n  try {\n    localStorage.removeItem(\"authUser\");\n    history.push(\"/login\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\n\nfunction* authSaga() {\n  yield takeEvery(LOGIN_USER, loginUser);\n  yield takeEvery(LOGOUT_USER, logoutUser);\n}\n\nexport default authSaga;","map":{"version":3,"sources":["D:/React_Code/korindo_proj/appfe/src/store/auth/login/saga.js"],"names":["call","put","takeEvery","LOGIN_USER","LOGOUT_USER","SOCIAL_LOGIN","apiError","loginSuccess","logoutUserSuccess","loginUser","payload","user","history","process","env","REACT_APP_DEFAULTAUTH","email","password","localStorage","setItem","JSON","stringify","push","e","console","log","message","error","logoutUser","removeItem","authSaga"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,SAApB,QAAqC,oBAArC,C,CAEA;;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,YAAlC,QAAsD,eAAtD;AACA,SAASC,QAAT,EAAmBC,YAAnB,EAAiCC,iBAAjC,QAA0D,WAA1D;;AAEA,UAAUC,SAAV,OAAoD;AAAA,MAAhC;AAAEC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR;AAAX,GAAgC;;AAClD,MAAI;AACF,QAAIC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,MAA1C,EAAkD;AAChD,UAAI;AACF,YAAGJ,IAAI,CAACK,KAAL,IAAc,oBAAd,IAAsCL,IAAI,CAACM,QAAL,IAAiB,MAA1D,EAAiE;AAC/DC,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAe,6CAAf,CAAjC,EAD+D,CAE/D;;AACAT,UAAAA,OAAO,CAACU,IAAR,CAAa,YAAb;AACD,SAJD,MAIK;AACH,gBAAMrB,GAAG,CAACK,QAAQ,CAAC,+EAAD,CAAT,CAAT;AACD;AAEF,OATD,CASE,OAAOiB,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd;AACD,OAZ+C,CAahD;AACA;AACA;AACA;AAEA;AACA;;AACD;;AACDd,IAAAA,OAAO,CAACU,IAAR,CAAa,YAAb;AACD,GAvBD,CAuBE,OAAOK,KAAP,EAAc;AACd,UAAM1B,GAAG,CAACK,QAAQ,CAACqB,KAAD,CAAT,CAAT;AACD;AACF;;AAED,UAAUC,UAAV,QAA+C;AAAA,MAA1B;AAAElB,IAAAA,OAAO,EAAE;AAAEE,MAAAA;AAAF;AAAX,GAA0B;;AAC7C,MAAI;AACFM,IAAAA,YAAY,CAACW,UAAb,CAAwB,UAAxB;AACAjB,IAAAA,OAAO,CAACU,IAAR,CAAa,QAAb;AACD,GAHD,CAGE,OAAOK,KAAP,EAAc;AACd,UAAM1B,GAAG,CAACK,QAAQ,CAACqB,KAAD,CAAT,CAAT;AACD;AACF;;AAED,UAAUG,QAAV,GAAqB;AACnB,QAAM5B,SAAS,CAACC,UAAD,EAAaM,SAAb,CAAf;AACA,QAAMP,SAAS,CAACE,WAAD,EAAcwB,UAAd,CAAf;AACD;;AAED,eAAeE,QAAf","sourcesContent":["import { call, put, takeEvery } from \"redux-saga/effects\"\n\n// Login Redux States\nimport { LOGIN_USER, LOGOUT_USER, SOCIAL_LOGIN } from \"./actionTypes\"\nimport { apiError, loginSuccess, logoutUserSuccess } from \"./actions\"\n\nfunction* loginUser({ payload: { user, history } }) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      try {\n        if(user.email == \"adminpoc@gmail.com\" && user.password == \"1234\"){\n          localStorage.setItem(\"authUser\", JSON.stringify(\"Wh3OyLBmjv7UcF93VSEU/cztR8aoeEE9bFrzeRkdEe+\"))\n          //yield put(loginSuccess(response))\n          history.push(\"/dashboard\")\n        }else{\n          yield put(apiError(\"Username and password are invalid. Please enter correct username and password\"))\n        }\n        \n      } catch (e) {\n        console.log(e.message)\n      }\n      // const response = yield call(postFakeLogin, {\n      //   email: user.email,\n      //   password: user.password,\n      // });\n\n      // localStorage.setItem(\"authUser\", JSON.stringify(response));\n      // yield put(loginSuccess(response));\n    }\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* logoutUser({ payload: { history } }) {\n  try {\n    localStorage.removeItem(\"authUser\")\n    history.push(\"/login\")\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* authSaga() {\n  yield takeEvery(LOGIN_USER, loginUser)\n  yield takeEvery(LOGOUT_USER, logoutUser)\n}\n\nexport default authSaga\n"]},"metadata":{},"sourceType":"module"}