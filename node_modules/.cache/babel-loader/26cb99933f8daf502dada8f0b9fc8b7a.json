{"ast":null,"code":"import { call, put, takeEvery, takeLatest } from \"redux-saga/effects\"; // Crypto Redux States\n\nimport { GET_DATA, GET_DATA_IMAGE } from \"./actionTypes\";\nimport { getDataSuccess, getDataFail } from \"./actions\"; //Include Both Helper File with needed methods\n\nimport { getData, getDataImage } from \"helpers/backend_helper\";\n\nfunction* fetchGetData() {\n  try {\n    console.log(\"CALL API\");\n    const response = yield call(getData);\n\n    if (response.status == 1) {\n      yield put(getDataSuccess(response));\n    } else {\n      yield put(getDataFail(\"Error Get Data\"));\n    }\n  } catch (error) {\n    yield put(getDataFail(error));\n  }\n}\n\nfunction* fetchGetDataImage(_ref) {\n  let {\n    payload: {\n      req\n    }\n  } = _ref;\n\n  try {\n    console.log(\"CALL API IMAGE\");\n    const response = yield call(getDataImage, {\n      file_name: req.file_name,\n      password: user.password\n    });\n    console.log(response);\n\n    if (response.data.size != 0) {\n      if (response.data.size != 0) {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', indexed_array.file_name);\n        document.body.appendChild(link);\n        link.click();\n        yield put(getDataSuccess(response));\n      } // else{\n      //   yield put(getDataFail(\"Error Get Data\"))\n\n    }\n  } catch (error) {//yield put(getDataFail(error))\n  }\n}\n\nfunction* getDataSaga() {\n  yield takeEvery(GET_DATA, fetchGetData);\n  yield takeLatest(GET_DATA_IMAGE, fetchGetDataImage);\n}\n\nexport default getDataSaga;","map":{"version":3,"sources":["D:/React_Code/korindo_proj/appfe/src/store/donwloaddata/saga.js"],"names":["call","put","takeEvery","takeLatest","GET_DATA","GET_DATA_IMAGE","getDataSuccess","getDataFail","getData","getDataImage","fetchGetData","console","log","response","status","error","fetchGetDataImage","payload","req","file_name","password","user","data","size","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","indexed_array","body","appendChild","click","getDataSaga"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,SAApB,EAA+BC,UAA/B,QAAiD,oBAAjD,C,CAEA;;AACA,SAASC,QAAT,EAAmBC,cAAnB,QAAyC,eAAzC;AACA,SAASC,cAAT,EAAyBC,WAAzB,QAA4C,WAA5C,C,CAEA;;AACA,SAASC,OAAT,EAAkBC,YAAlB,QAAqC,wBAArC;;AAEA,UAAUC,YAAV,GAAyB;AACvB,MAAI;AACFC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,UAAMC,QAAQ,GAAG,MAAMb,IAAI,CAACQ,OAAD,CAA3B;;AACA,QAAGK,QAAQ,CAACC,MAAT,IAAmB,CAAtB,EAAwB;AACtB,YAAMb,GAAG,CAACK,cAAc,CAACO,QAAD,CAAf,CAAT;AACD,KAFD,MAEK;AACH,YAAMZ,GAAG,CAACM,WAAW,CAAC,gBAAD,CAAZ,CAAT;AACD;AACF,GARD,CAQE,OAAOQ,KAAP,EAAc;AACd,UAAMd,GAAG,CAACM,WAAW,CAACQ,KAAD,CAAZ,CAAT;AACD;AACF;;AAED,UAAUC,iBAAV,OAAkD;AAAA,MAAtB;AAAEC,IAAAA,OAAO,EAAE;AAAEC,MAAAA;AAAF;AAAX,GAAsB;;AAChD,MAAI;AACFP,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,UAAMC,QAAQ,GAAG,MAAMb,IAAI,CAACS,YAAD,EAAe;AAACU,MAAAA,SAAS,EAAED,GAAG,CAACC,SAAhB;AAA2BC,MAAAA,QAAQ,EAAEC,IAAI,CAACD;AAA1C,KAAf,CAA3B;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;;AACA,QAAGA,QAAQ,CAACS,IAAT,CAAcC,IAAd,IAAsB,CAAzB,EAA2B;AACzB,UAAGV,QAAQ,CAACS,IAAT,CAAcC,IAAd,IAAsB,CAAzB,EAA2B;AACzB,cAAMC,GAAG,GAAGC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACf,QAAQ,CAACS,IAAV,CAAT,CAA3B,CAAZ;AACA,cAAMO,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,QAAAA,IAAI,CAACG,IAAL,GAAYR,GAAZ;AACAK,QAAAA,IAAI,CAACI,YAAL,CAAkB,UAAlB,EAA8BC,aAAa,CAACf,SAA5C;AACAW,QAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,IAA1B;AACAA,QAAAA,IAAI,CAACQ,KAAL;AACA,cAAMpC,GAAG,CAACK,cAAc,CAACO,QAAD,CAAf,CAAT;AACD,OATwB,CAU3B;AACA;;AACE;AACH,GAjBD,CAiBE,OAAOE,KAAP,EAAc,CACd;AACD;AACF;;AAGD,UAAUuB,WAAV,GAAwB;AAEtB,QAAMpC,SAAS,CAACE,QAAD,EAAWM,YAAX,CAAf;AACA,QAAMP,UAAU,CAACE,cAAD,EAAiBW,iBAAjB,CAAhB;AACD;;AAED,eAAesB,WAAf","sourcesContent":["import { call, put, takeEvery, takeLatest } from \"redux-saga/effects\"\r\n\r\n// Crypto Redux States\r\nimport { GET_DATA, GET_DATA_IMAGE } from \"./actionTypes\"\r\nimport { getDataSuccess, getDataFail } from \"./actions\"\r\n\r\n//Include Both Helper File with needed methods\r\nimport { getData, getDataImage} from \"helpers/backend_helper\"\r\n\r\nfunction* fetchGetData() {\r\n  try {\r\n    console.log(\"CALL API\");\r\n    const response = yield call(getData)\r\n    if(response.status == 1){\r\n      yield put(getDataSuccess(response))\r\n    }else{\r\n      yield put(getDataFail(\"Error Get Data\"))\r\n    }\r\n  } catch (error) {\r\n    yield put(getDataFail(error))\r\n  }\r\n}\r\n\r\nfunction* fetchGetDataImage({ payload: { req } }) {\r\n  try {\r\n    console.log(\"CALL API IMAGE\");\r\n    const response = yield call(getDataImage, {file_name: req.file_name, password: user.password })\r\n    console.log(response);\r\n    if(response.data.size != 0){\r\n      if(response.data.size != 0){\r\n        const url = window.URL.createObjectURL(new Blob([response.data]));\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', indexed_array.file_name);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        yield put(getDataSuccess(response))\r\n      }\r\n    // else{\r\n    //   yield put(getDataFail(\"Error Get Data\"))\r\n     }\r\n  } catch (error) {\r\n    //yield put(getDataFail(error))\r\n  }\r\n}\r\n\r\n\r\nfunction* getDataSaga() {\r\n    \r\n  yield takeEvery(GET_DATA, fetchGetData)\r\n  yield takeLatest(GET_DATA_IMAGE, fetchGetDataImage)\r\n}\r\n\r\nexport default getDataSaga\r\n"]},"metadata":{},"sourceType":"module"}