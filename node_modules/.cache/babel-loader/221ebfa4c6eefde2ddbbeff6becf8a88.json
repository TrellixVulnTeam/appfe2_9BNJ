{"ast":null,"code":"import { call, put, takeEvery, takeLatest } from \"redux-saga/effects\"; // Login Redux States\n\nimport { LOGIN_USER, LOGOUT_USER, SOCIAL_LOGIN } from \"./actionTypes\";\nimport { apiError, loginSuccess, logoutUserSuccess } from \"./actions\"; //Include Both Helper File with needed methods\n\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\nimport { postFakeLogin, postJwtLogin, postSocialLogin } from \"../../../helpers/fakebackend_helper\";\nconst fireBaseBackend = getFirebaseBackend();\n\nfunction* loginUser(_ref) {\n  let {\n    payload: {\n      user,\n      history\n    }\n  } = _ref;\n\n  try {\n    const headerParams = {\n      Authorization: 'Basic YWRtaW50ZGl2OjEyMzQ='\n    };\n    const response = yield call(postFakeLogin, {\n      email: user.email,\n      password: user.password\n    });\n    console.log(JSON.stringify(response));\n    localStorage.setItem(\"authUser\", JSON.stringify(response));\n    yield put(loginSuccess(response));\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n} // function* loginUser({ payload: { user, history } }) {\n//   try {\n//     if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n//       const response = yield call(\n//         fireBaseBackend.loginUser,\n//         user.email,\n//         user.password\n//       )\n//       yield put(loginSuccess(response))\n//     } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n//       const response = yield call(postJwtLogin, {\n//         email: user.email,\n//         password: user.password,\n//       })\n//       localStorage.setItem(\"authUser\", JSON.stringify(response))\n//       yield put(loginSuccess(response))\n//     } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n//       const response = yield call(postFakeLogin, {\n//         email: user.email,\n//         password: user.password,\n//       })\n//       console.log(JSON.stringify(response));\n//       localStorage.setItem(\"authUser\", JSON.stringify(response))\n//       yield put(loginSuccess(response))\n//     }\n//     history.push(\"/dashboard\")\n//   } catch (error) {\n//     yield put(apiError(error))\n//   }\n// }\n\n\nfunction* logoutUser(_ref2) {\n  let {\n    payload: {\n      history\n    }\n  } = _ref2;\n\n  try {\n    localStorage.removeItem(\"authUser\");\n\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.logout);\n      yield put(logoutUserSuccess(response));\n    }\n\n    history.push(\"/login\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\n\nfunction* socialLogin(_ref3) {\n  let {\n    payload: {\n      data,\n      history,\n      type\n    }\n  } = _ref3;\n\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const fireBaseBackend = getFirebaseBackend();\n      const response = yield call(fireBaseBackend.socialLoginUser, data, type);\n      localStorage.setItem(\"authUser\", JSON.stringify(response));\n      yield put(loginSuccess(response));\n    } else {\n      const response = yield call(postSocialLogin, data);\n      localStorage.setItem(\"authUser\", JSON.stringify(response));\n      yield put(loginSuccess(response));\n    }\n\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\n\nfunction* authSaga() {\n  yield takeEvery(LOGIN_USER, loginUser);\n  yield takeLatest(SOCIAL_LOGIN, socialLogin);\n  yield takeEvery(LOGOUT_USER, logoutUser);\n}\n\nexport default authSaga;","map":{"version":3,"sources":["D:/React_Code/Skote_React_v3.3.1/Admin-Hooks-Staterkit/src/store/auth/login/saga.js"],"names":["call","put","takeEvery","takeLatest","LOGIN_USER","LOGOUT_USER","SOCIAL_LOGIN","apiError","loginSuccess","logoutUserSuccess","getFirebaseBackend","postFakeLogin","postJwtLogin","postSocialLogin","fireBaseBackend","loginUser","payload","user","history","headerParams","Authorization","response","email","password","console","log","JSON","stringify","localStorage","setItem","push","error","logoutUser","removeItem","process","env","REACT_APP_DEFAULTAUTH","logout","socialLogin","data","type","socialLoginUser","authSaga"],"mappings":"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","sourcesContent":["import { call, put, takeEvery, takeLatest } from \"redux-saga/effects\"\n\n// Login Redux States\nimport { LOGIN_USER, LOGOUT_USER, SOCIAL_LOGIN } from \"./actionTypes\"\nimport { apiError, loginSuccess, logoutUserSuccess } from \"./actions\"\n\n//Include Both Helper File with needed methods\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\"\nimport {\n  postFakeLogin,\n  postJwtLogin,\n  postSocialLogin,\n} from \"../../../helpers/fakebackend_helper\"\n\nconst fireBaseBackend = getFirebaseBackend()\n\nfunction* loginUser({ payload: { user, history } }) {\n    try {\n        const headerParams = {\n          Authorization: 'Basic YWRtaW50ZGl2OjEyMzQ='\n        };\n        const response = yield call(postFakeLogin, {\n          email: user.email,\n          password: user.password,\n        })\n        console.log(JSON.stringify(response));\n        localStorage.setItem(\"authUser\", JSON.stringify(response))\n        yield put(loginSuccess(response))\n      history.push(\"/dashboard\")\n    } catch (error) {\n      yield put(apiError(error))\n    }\n  }\n\n// function* loginUser({ payload: { user, history } }) {\n//   try {\n//     if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n//       const response = yield call(\n//         fireBaseBackend.loginUser,\n//         user.email,\n//         user.password\n//       )\n//       yield put(loginSuccess(response))\n//     } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n//       const response = yield call(postJwtLogin, {\n//         email: user.email,\n//         password: user.password,\n//       })\n//       localStorage.setItem(\"authUser\", JSON.stringify(response))\n//       yield put(loginSuccess(response))\n//     } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n//       const response = yield call(postFakeLogin, {\n//         email: user.email,\n//         password: user.password,\n//       })\n//       console.log(JSON.stringify(response));\n//       localStorage.setItem(\"authUser\", JSON.stringify(response))\n//       yield put(loginSuccess(response))\n//     }\n//     history.push(\"/dashboard\")\n//   } catch (error) {\n//     yield put(apiError(error))\n//   }\n// }\n\nfunction* logoutUser({ payload: { history } }) {\n  try {\n    localStorage.removeItem(\"authUser\")\n\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.logout)\n      yield put(logoutUserSuccess(response))\n    }\n    history.push(\"/login\")\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* socialLogin({ payload: { data, history, type } }) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const fireBaseBackend = getFirebaseBackend()\n      const response = yield call(\n        fireBaseBackend.socialLoginUser,\n        data,\n        type,\n      )\n      localStorage.setItem(\"authUser\", JSON.stringify(response))\n      yield put(loginSuccess(response))\n    } else {\n      const response = yield call(postSocialLogin, data)\n      localStorage.setItem(\"authUser\", JSON.stringify(response))\n      yield put(loginSuccess(response))\n    }\n    history.push(\"/dashboard\")\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* authSaga() {\n  yield takeEvery(LOGIN_USER, loginUser)\n  yield takeLatest(SOCIAL_LOGIN, socialLogin)\n  yield takeEvery(LOGOUT_USER, logoutUser)\n}\n\nexport default authSaga\n"]},"metadata":{},"sourceType":"module"}